@inherits OwningComponentBase
@page "/kien-thuc"
<HeadContent>
    @*<link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />*@
    <title>Kiến thức - Kolin</title>
</HeadContent>
<div class="container-1200 px-3 lg:px-0">
    <div class="flex gap-3 items-center py-4 lg:py-8 text-lg lg:text-2xl">
        <a href="/">
            <img src="./img/icon/homeIcon.svg" />
        </a>
        <a href="/">Trang chủ</a>/ Kiến thức
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-3 text-gray-800">
        <div class="col-span-1 lg:col-span-9 grid grid-cols-1 gap-6 lg:grid-cols-2 rounded-lg bg-white p-4">
            @for (int i = 0; i < blogsNumber; i++)
            {
                <div class="col-span-1">
                    <div class="thumb h-[300px] border">
                        <img src="@model.Blogs[i].ThumbNailImageLink" alt="@model.Blogs[i].Title" />
                    </div>
                    <div class="mt-3 text-red-800">
                        <a class="block uppercase text-lg font-bold line-clamp-2" href="@model.Blogs[i].DetailBlogLink">
                            @model.Blogs[i].Title
                        </a>
                        <p class="disc line-clamp-3 italic">
                            @model.Blogs[i].ShortDescription
                        </p>
                    </div>
                </div>
            }
        </div>
        <div class="col-span-1 lg:col-span-3">
            @*Khóa học sắp diễn ra*@
            @if (offlineCourseViewModels.Count() > 0)
            {
                <div class="bg-white rounded-md overflow-x-hidden mb-8">
                    <div class="font-bold bg-gray-100 py-5 px-4 text-lg">Khóa học sắp diễn ra</div>
                    <div class="max-h-[500px] overflow-y-auto">
                        @foreach (var offcourse in offlineCourseViewModels)
                        {
                            <div class="my-6 mx-3 px-3 border-l-4 border-red-800 text-base">
                                <a href="@offcourse.DetailCourseLink"
                                    class="text-base lg:text-lg font-bold text-red-800 line-clamp-3">@offcourse.Name</a>
                                <div class="flex gap-1 mt-3">
                                    <img src="./img/icon/timeIcon.svg" />
                                    <span class="line-clamp-1">Thời gian:
                                        @offcourse.StartDates[0].StartTime.Value.ToString("dd/MM/yyyy")</span>
                                </div>
                                <div class="flex gap-2 mt-3 line-clamp-1">
                                    <img src="./img/icon/addressIcon.svg" />
                                    <span class="line-clamp-1">Địa điểm: @offcourse.StartDates[0].Place</span>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            }

            @*Các bài viết liên quan*@
            @if (relatedNewsModel != null)
            {
                <div class="">
                    <div class="font-bold bg-gray-200 p-4 text-gray-900 text-lg">Các bài viết liên quan</div>
                    <div class="">
                        @foreach (var news in relatedNewsModel)
                        {
                            <div class="bg-white col-span-2 row-span-2 rounded-lg border border-gray-400 mt-3">
                                <img src="@news.ThumbNailImageLink" class="w-full h-[205px] object-cover rounded-lg" />
                                <div class="p-2">
                                    <a href="@news.DetailBlogLink"
                                        class="uppercase text-base text-red-800 font-semibold line-clamp-4">
                                        @news.Title
                                    </a>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            }

        </div>
    </div>

    <div class="mt-8 mb-8">
        <nav aria-label="Page navigation">
            <ul class="flex gap-4 justify-center">
                <li class="page-item" @onclick="()=>OnPageChange(-1)">
                    <a class="page-link" href="#" style="pointer-events: none;cursor:default" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                @for (int i = 1; i <= model.TotalPage; i++)
                {
                    var index = i;
                    <li class="page-item" @onclick="() => OnPageChange(index)"><a class="page-link"
                            style="pointer-events: none;cursor:default" href="#">@i</a></li>
                }
                <li class="page-item" @onclick="()=>OnPageChange(0)">
                    <a class="page-link" href="#" style="pointer-events: none;cursor:default" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>
